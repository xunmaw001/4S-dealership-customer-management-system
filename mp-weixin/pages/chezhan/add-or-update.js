(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/chezhan/add-or-update"],{"15dc":function(e,n,i){"use strict";var t={"w-picker":function(){return Promise.all([i.e("common/vendor"),i.e("components/w-picker/w-picker")]).then(i.bind(null,"fd82"))}},a=function(){var e=this,n=e.$createElement;e._self._c},r=[];i.d(n,"b",(function(){return a})),i.d(n,"c",(function(){return r})),i.d(n,"a",(function(){return t}))},4243:function(e,n,i){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var t=a(i("a34a"));function a(e){return e&&e.__esModule?e:{default:e}}function r(e,n,i,t,a,r,u){try{var s=e[r](u),h=s.value}catch(c){return void i(c)}s.done?n(h):Promise.resolve(h).then(t,a)}function u(e){return function(){var n=this,i=arguments;return new Promise((function(t,a){var u=e.apply(n,i);function s(e){r(u,t,a,s,h,"next",e)}function h(e){r(u,t,a,s,h,"throw",e)}s(void 0)}))}}var s=function(){Promise.all([i.e("common/vendor"),i.e("components/w-picker/w-picker")]).then(function(){return resolve(i("fd82"))}.bind(null,i)).catch(i.oe)},h={data:function(){return{ruleForm:{mendianzhanghao:"",mendianmingcheng:"",qichemingcheng:"",qichefenlei:"",qichepinpai:"",qicheyanse:"",qichetupian:"",tianchuang:"",huandangfangshi:"",zuowei:"",qichepailiang:"",shangshinianfen:"",shuliang:"",qichexiangqing:"",clicktime:"",clicknum:"",userid:""},qichefenleiOptions:[],qichefenleiIndex:0,qichepinpaiOptions:[],qichepinpaiIndex:0,tianchuangOptions:[],tianchuangIndex:0,huandangfangshiOptions:[],huandangfangshiIndex:0,zuoweiOptions:[],zuoweiIndex:0,user:{},ro:{mendianzhanghao:!1,mendianmingcheng:!1,qichemingcheng:!1,qichefenlei:!1,qichepinpai:!1,qicheyanse:!1,qichetupian:!1,tianchuang:!1,huandangfangshi:!1,zuowei:!1,qichepailiang:!1,shangshinianfen:!1,shuliang:!1,qichexiangqing:!1,clicktime:!1,clicknum:!1,userid:!1}}},components:{wPicker:s},computed:{},onLoad:function(){var n=u(t.default.mark((function n(i){var a,r,u,s;return t.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=e.getStorageSync("nowTable"),n.next=3,this.$api.session(a);case 3:return r=n.sent,this.user=r.data,this.ruleForm.mendianzhanghao=this.user.mendianzhanghao,this.ruleForm.mendianmingcheng=this.user.mendianmingcheng,this.qichefenleiOptions="微型车,小型车,紧凑型车,中型车,中高级车,豪华车,商务车,越野车,跑车".split(","),n.next=10,this.$api.option("qichepinpai","qichepinpai",{});case 10:if(r=n.sent,this.qichepinpaiOptions=r.data,this.tianchuangOptions="有天窗,没天窗".split(","),this.huandangfangshiOptions="手动挡,自动挡".split(","),this.zuoweiOptions="2座,4座,5座,7座,其他".split(","),this.ruleForm.userid=e.getStorageSync("userid"),i.refid&&(this.ruleForm.refid=i.refid,this.ruleForm.nickname=e.getStorageSync("nickname")),!i.id){n.next=23;break}return this.ruleForm.id=i.id,n.next=21,this.$api.info("chezhan",this.ruleForm.id);case 21:r=n.sent,this.ruleForm=r.data;case 23:if(!i.cross){n.next=98;break}u=e.getStorageSync("crossObj"),n.t0=t.default.keys(u);case 26:if((n.t1=n.t0()).done){n.next=98;break}if(s=n.t1.value,"mendianzhanghao"!=s){n.next=32;break}return this.ruleForm.mendianzhanghao=u[s],this.ro.mendianzhanghao=!0,n.abrupt("continue",26);case 32:if("mendianmingcheng"!=s){n.next=36;break}return this.ruleForm.mendianmingcheng=u[s],this.ro.mendianmingcheng=!0,n.abrupt("continue",26);case 36:if("qichemingcheng"!=s){n.next=40;break}return this.ruleForm.qichemingcheng=u[s],this.ro.qichemingcheng=!0,n.abrupt("continue",26);case 40:if("qichefenlei"!=s){n.next=44;break}return this.ruleForm.qichefenlei=u[s],this.ro.qichefenlei=!0,n.abrupt("continue",26);case 44:if("qichepinpai"!=s){n.next=48;break}return this.ruleForm.qichepinpai=u[s],this.ro.qichepinpai=!0,n.abrupt("continue",26);case 48:if("qicheyanse"!=s){n.next=52;break}return this.ruleForm.qicheyanse=u[s],this.ro.qicheyanse=!0,n.abrupt("continue",26);case 52:if("qichetupian"!=s){n.next=56;break}return this.ruleForm.qichetupian=u[s],this.ro.qichetupian=!0,n.abrupt("continue",26);case 56:if("tianchuang"!=s){n.next=60;break}return this.ruleForm.tianchuang=u[s],this.ro.tianchuang=!0,n.abrupt("continue",26);case 60:if("huandangfangshi"!=s){n.next=64;break}return this.ruleForm.huandangfangshi=u[s],this.ro.huandangfangshi=!0,n.abrupt("continue",26);case 64:if("zuowei"!=s){n.next=68;break}return this.ruleForm.zuowei=u[s],this.ro.zuowei=!0,n.abrupt("continue",26);case 68:if("qichepailiang"!=s){n.next=72;break}return this.ruleForm.qichepailiang=u[s],this.ro.qichepailiang=!0,n.abrupt("continue",26);case 72:if("shangshinianfen"!=s){n.next=76;break}return this.ruleForm.shangshinianfen=u[s],this.ro.shangshinianfen=!0,n.abrupt("continue",26);case 76:if("shuliang"!=s){n.next=80;break}return this.ruleForm.shuliang=u[s],this.ro.shuliang=!0,n.abrupt("continue",26);case 80:if("qichexiangqing"!=s){n.next=84;break}return this.ruleForm.qichexiangqing=u[s],this.ro.qichexiangqing=!0,n.abrupt("continue",26);case 84:if("clicktime"!=s){n.next=88;break}return this.ruleForm.clicktime=u[s],this.ro.clicktime=!0,n.abrupt("continue",26);case 88:if("clicknum"!=s){n.next=92;break}return this.ruleForm.clicknum=u[s],this.ro.clicknum=!0,n.abrupt("continue",26);case 92:if("userid"!=s){n.next=96;break}return this.ruleForm.userid=u[s],this.ro.userid=!0,n.abrupt("continue",26);case 96:n.next=26;break;case 98:this.styleChange();case 99:case"end":return n.stop()}}),n,this)})));function i(e){return n.apply(this,arguments)}return i}(),methods:{styleChange:function(){this.$nextTick((function(){}))},clicktimeConfirm:function(e){console.log(e),this.ruleForm.clicktime=e.result,this.$forceUpdate()},qichefenleiChange:function(e){this.qichefenleiIndex=e.target.value,this.ruleForm.qichefenlei=this.qichefenleiOptions[this.qichefenleiIndex]},qichepinpaiChange:function(e){this.qichepinpaiIndex=e.target.value,this.ruleForm.qichepinpai=this.qichepinpaiOptions[this.qichepinpaiIndex]},tianchuangChange:function(e){this.tianchuangIndex=e.target.value,this.ruleForm.tianchuang=this.tianchuangOptions[this.tianchuangIndex]},huandangfangshiChange:function(e){this.huandangfangshiIndex=e.target.value,this.ruleForm.huandangfangshi=this.huandangfangshiOptions[this.huandangfangshiIndex]},zuoweiChange:function(e){this.zuoweiIndex=e.target.value,this.ruleForm.zuowei=this.zuoweiOptions[this.zuoweiIndex]},qichetupianTap:function(){var e=this;this.$api.upload((function(n){e.ruleForm.qichetupian=e.$base.url+"upload/"+n.file,e.$forceUpdate(),e.$nextTick((function(){e.styleChange()}))}))},getUUID:function(){return(new Date).getTime()},onSubmitTap:function(){var e=u(t.default.mark((function e(){return t.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.ruleForm.qichemingcheng){e.next=3;break}return this.$utils.msg("汽车名称不能为空"),e.abrupt("return");case 3:if(this.ruleForm.qichefenlei){e.next=6;break}return this.$utils.msg("汽车分类不能为空"),e.abrupt("return");case 6:if(this.ruleForm.qichepinpai){e.next=9;break}return this.$utils.msg("汽车品牌不能为空"),e.abrupt("return");case 9:if(this.ruleForm.qicheyanse){e.next=12;break}return this.$utils.msg("汽车颜色不能为空"),e.abrupt("return");case 12:if(!this.ruleForm.shuliang||this.$validate.isIntNumer(this.ruleForm.shuliang)){e.next=15;break}return this.$utils.msg("数量应输入整数"),e.abrupt("return");case 15:if(!this.ruleForm.clicknum||this.$validate.isIntNumer(this.ruleForm.clicknum)){e.next=18;break}return this.$utils.msg("点击次数应输入整数"),e.abrupt("return");case 18:if(this.ruleForm.userid){e.next=21;break}return this.$utils.msg("用户id不能为空"),e.abrupt("return");case 21:if(!this.ruleForm.id){e.next=26;break}return e.next=24,this.$api.update("chezhan",this.ruleForm);case 24:e.next=28;break;case 26:return e.next=28,this.$api.add("chezhan",this.ruleForm);case 28:this.$utils.msgBack("提交成功");case 29:case"end":return e.stop()}}),e,this)})));function n(){return e.apply(this,arguments)}return n}(),optionsChange:function(e){this.index=e.target.value},bindDateChange:function(e){this.date=e.target.value},getDate:function(e){var n=new Date,i=n.getFullYear(),t=n.getMonth()+1,a=n.getDate();return"start"===e?i-=60:"end"===e&&(i+=2),t=t>9?t:"0"+t,a=a>9?a:"0"+a,"".concat(i,"-").concat(t,"-").concat(a)},toggleTab:function(e){this.$refs[e].show()}}};n.default=h}).call(this,i("543d")["default"])},"60a4":function(e,n,i){"use strict";(function(e){i("9981"),i("921b");t(i("66fd"));var n=t(i("962d"));function t(e){return e&&e.__esModule?e:{default:e}}e(n.default)}).call(this,i("543d")["createPage"])},"6bd2":function(e,n,i){},"70f0":function(e,n,i){"use strict";i.r(n);var t=i("4243"),a=i.n(t);for(var r in t)"default"!==r&&function(e){i.d(n,e,(function(){return t[e]}))}(r);n["default"]=a.a},"7f99":function(e,n,i){"use strict";var t=i("6bd2"),a=i.n(t);a.a},"962d":function(e,n,i){"use strict";i.r(n);var t=i("15dc"),a=i("70f0");for(var r in a)"default"!==r&&function(e){i.d(n,e,(function(){return a[e]}))}(r);i("7f99");var u,s=i("f0c5"),h=Object(s["a"])(a["default"],t["b"],t["c"],!1,null,"4599fd6c",null,!1,t["a"],u);n["default"]=h.exports}},[["60a4","common/runtime","common/vendor"]]]);